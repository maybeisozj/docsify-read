# 抽象工厂模式

## 概念

### 定义

抽象工厂模式（Abstract Factory Pattern）是围绕一个**超级工厂**创建其他工厂。**该超级工厂又称为其他工厂的工厂**。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。

在抽象工厂模式中，接口是负责创建一个相关对象的工厂，不需要显式指定它们的类。**每个生成的工厂都能按照工厂模式提供对象。**

### 特点

1. 在一个工厂里聚合多个同类产品，工厂之间是不同的产品族；
2. 综合性工厂，可以生成**多等级**的产品；

## 结构和实现

### 结构

模式结构图如下：

![image-20200919103838159](https://i.loli.net/2020/09/19/rvji3fp2lwcTe4y.png)

抽象工厂模式的主要角色如下。

1. 抽象工厂（Abstract Factory）：提供了创建产品的接口，它包含多个创建产品的方法 newProduct()，可以创建多个不同等级的产品。
2. 具体工厂（Concrete Factory）：主要是实现抽象工厂中的多个抽象方法，完成具体产品的创建。
3. 抽象产品（Product）：定义了产品的规范，描述了产品的主要特性和功能，抽象工厂模式有多个抽象产品。
4. 具体产品（ConcreteProduct）：实现了抽象产品角色所定义的接口，由具体工厂来创建，它同具体工厂之间是多对一的关系。

### 实现

无。

## 抽象工厂模式的优点和缺点

模式的优点：

- 可以在类的内部对产品族中相关联的多等级产品共同管理，而不必专门引入多个新的类来进行管理。
- 当需要产品族时，抽象工厂可以保证客户端始终只使用同一个产品的产品组。
- 抽象工厂增强了程序的可扩展性，当增加一个新的产品族时，不需要修改原代码，满足开闭原则。


模式的缺点：

- 当产品族中需要增加一个新的产品时，所有的工厂类都需要进行修改。增加了系统的抽象性和理解难度。

## 抽象工厂模式的应用场景

同工厂模式。另外，还有：

1、QQ 换皮肤，一整套一起换。

2、生成不同操作系统的程序。